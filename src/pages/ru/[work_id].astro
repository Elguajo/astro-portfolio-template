---
import App from '@/components/pages/detail.astro';
import getWorks from '@/lib/getWorks.ts';

export const getStaticPaths = async () => {
  const works = await getWorks();
  const worksArray = Array.isArray(works) ? works : [];
  const paths = worksArray.map((work: any) => {
    return {
      params: { work_id: work.id },
      props: { work },
    };
  });

  return paths;
};
---

<App {...Astro.props} />
