---
import Header from '@/components/common/Header.astro';
import Footer from '@hdud/common/components/Footer.astro';
import BaseLayout from './BaseLayout.astro';
import { getI18n } from '@/i18n/index';
import { getMenus } from '@/config/menus';
import { getAnimationConfig, getTransitionConfig } from '@/config/animations';

const { url } = Astro;
const i18n = await getI18n('en', 'design');
const links = getMenus(i18n('menus'));

// Get animation config for current page
const animationConfig = getAnimationConfig(url.pathname);
const pageTransition = getTransitionConfig(animationConfig);
---

<BaseLayout {...Astro.props}>
  <Header />
  <div
    class="p-2 sm:p-4 xl:p-8 relative min-h-1/2 mx-auto flex flex-col"
    transition:animate={pageTransition}
  >
    <slot />
  </div>
  <Footer shows={i18n('footer')} links={links} />
</BaseLayout>
